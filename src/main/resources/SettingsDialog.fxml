<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.comp2042.app.SettingsController">
    <center>
        <VBox spacing="18">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="Input Settings (DAS / ARR / SDF)" styleClass="menu-title"/>
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="45"/>
                    <ColumnConstraints percentWidth="55"/>
                </columnConstraints>
                <HBox alignment="CENTER_LEFT" spacing="6">
                    <Label text="DAS (ms)">
                        <tooltip>
                            <Tooltip text="Delayed Auto Shift: wait time before a held move key begins repeating."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-das">
                        <tooltip>
                            <Tooltip text="Higher DAS = slower response when holding LEFT/RIGHT."/>
                        </tooltip>
                    </Button>
                </HBox>
                <TextField fx:id="dasField" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="1">
                    <Label text="ARR (ms)">
                        <tooltip>
                            <Tooltip text="Auto Repeat Rate: interval between repeated moves after DAS expires."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-arr">
                        <tooltip>
                            <Tooltip text="Lower ARR makes pieces glide faster while holding LEFT/RIGHT."/>
                        </tooltip>
                    </Button>
                </HBox>
                <TextField fx:id="arrField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="2">
                    <Label text="Soft Drop Multiplier">
                        <tooltip>
                            <Tooltip text="Boost to manual drop speed when holding the soft-drop key."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-sdf">
                        <tooltip>
                            <Tooltip text="Higher values drop faster; 1.0 equals gravity speed."/>
                        </tooltip>
                    </Button>
                </HBox>
                <TextField fx:id="sdfField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
            </GridPane>

            <Label text="Key Bindings" styleClass="menu-title"/>
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="45"/>
                    <ColumnConstraints percentWidth="55"/>
                </columnConstraints>
                <HBox alignment="CENTER_LEFT" spacing="6">
                    <Label text="Move Left">
                        <tooltip>
                            <Tooltip text="Moves the active piece one column to the left."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-move-left"/>
                </HBox>
                <TextField fx:id="leftKeyField" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="1">
                    <Label text="Move Right">
                        <tooltip>
                            <Tooltip text="Moves the active piece one column to the right."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-move-right"/>
                </HBox>
                <TextField fx:id="rightKeyField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="2">
                    <Label text="Soft Drop">
                        <tooltip>
                            <Tooltip text="Increases fall speed while held without forcing a lock."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-soft-drop"/>
                </HBox>
                <TextField fx:id="downKeyField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="3">
                    <Label text="Hard Drop">
                        <tooltip>
                            <Tooltip text="Instantly drops the piece to the ghost position."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-hard-drop"/>
                </HBox>
                <TextField fx:id="hardDropKeyField" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="4">
                    <Label text="Rotate CW">
                        <tooltip>
                            <Tooltip text="Rotates the piece clockwise (right rotation)."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-rotate-cw"/>
                </HBox>
                <TextField fx:id="rotateCwField" GridPane.rowIndex="4" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="5">
                    <Label text="Rotate CCW">
                        <tooltip>
                            <Tooltip text="Rotates the piece counter-clockwise (left rotation)."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-rotate-ccw"/>
                </HBox>
                <TextField fx:id="rotateCcwField" GridPane.rowIndex="5" GridPane.columnIndex="1"/>
                <HBox alignment="CENTER_LEFT" spacing="6" GridPane.rowIndex="6">
                    <Label text="New Game">
                        <tooltip>
                            <Tooltip text="Resets the current run instantly when pressed."/>
                        </tooltip>
                    </Label>
                    <Button text="?" focusTraversable="false" onAction="#showInfo" id="info-new-game"/>
                </HBox>
                <TextField fx:id="newGameKeyField" GridPane.rowIndex="6" GridPane.columnIndex="1"/>
            </GridPane>
            <Label fx:id="infoLabel" wrapText="true" textFill="#444444" maxWidth="Infinity"/>
        </VBox>
    </center>
    <bottom>
        <HBox spacing="12" alignment="CENTER_RIGHT">
            <padding>
                <Insets top="12" right="12" bottom="12" left="12"/>
            </padding>
            <Label fx:id="statusLabel" textFill="#cc3333"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Cancel" onAction="#onCancel" styleClass="ipad-dark-grey"/>
            <Button text="Save" onAction="#onSave" styleClass="ipad-dark-grey"/>
        </HBox>
    </bottom>
</BorderPane>
